#include "abstractcourbe.h"
#include <iostream>
//-------------------------------------------------------------------------
//-----------------------constructeur--------------------------------------
//-------------------------------------------------------------------------
AbstractCourbe::AbstractCourbe(Xp base ) : KernelObject()
{
    this->xpPred = new Xp (base);
    this->xpSuiv = new Xp (base);
    this->base   = new Xp (base);

}
//-------------------------------------------------------------------------
//------------------------Destructeur--------------------------------------
//-------------------------------------------------------------------------
AbstractCourbe::~AbstractCourbe() throw(){
    delete xpPred;
    delete xpSuiv;
    delete base;
}
//-------------------------------------------------------------------------
//------------------------fonction-----------------------------------------
//-------------------------------------------------------------------------
bool AbstractCourbe::isUpNextPalier(const Xp x){
    //std::cerr << x << "/" << this->getSuivXp() << std::endl;
    bool r = x >= this->getSuivXp();
    if(r){
        (*xpPred) = (*xpSuiv);
        (*xpSuiv) = this->calcXpNextLevel();
    }
    return r;
}
//-------------------------------------------------------------------------
Xp AbstractCourbe::getBase()const{
    return *base;
}
//-------------------------------------------------------------------------
Xp AbstractCourbe::getPredXp()const{
    return *xpPred;
}
//-------------------------------------------------------------------------
//------------------------private------------------------------------------
//-------------------------------------------------------------------------

//-------------------------------------------------------------------------
Xp AbstractCourbe::getSuivXp()const{
    return *xpSuiv;
}
